{"format_version":"1.2","terraform_version":"1.10.6","planned_values":{"outputs":{"db_connection_name":{"sensitive":false},"db_name":{"sensitive":false,"type":"string","value":"mydatabase"},"db_public_ip":{"sensitive":false},"db_user":{"sensitive":false,"type":"string","value":"myuser"}},"root_module":{"resources":[{"address":"google_sql_database.app_db","mode":"managed","type":"google_sql_database","name":"app_db","provider_name":"registry.opentofu.org/hashicorp/google","schema_version":0,"values":{"deletion_policy":"DELETE","instance":"pg","name":"mydatabase","project":"tf-project-1763286414","timeouts":null},"sensitive_values":{}},{"address":"google_sql_database_instance.postgres","mode":"managed","type":"google_sql_database_instance","name":"postgres","provider_name":"registry.opentofu.org/hashicorp/google","schema_version":0,"values":{"clone":[],"database_version":"POSTGRES_15","deletion_protection":false,"name":"pg","project":"tf-project-1763286414","region":"europe-west4","restore_backup_context":[],"root_password":null,"settings":[{"activation_policy":"ALWAYS","active_directory_config":[],"advanced_machine_features":[],"availability_type":"ZONAL","backup_configuration":[{"binary_log_enabled":null,"enabled":false,"location":null,"point_in_time_recovery_enabled":null}],"collation":null,"data_cache_config":[],"database_flags":[],"deletion_protection_enabled":null,"deny_maintenance_period":[],"disk_autoresize":true,"disk_autoresize_limit":0,"disk_type":"PD_SSD","edition":"ENTERPRISE","enable_dataplex_integration":null,"enable_google_ml_integration":null,"ip_configuration":[{"allocated_ip_range":null,"authorized_networks":[{"expiration_time":"","name":"home-network","value":"89.210.41.207/32"}],"enable_private_path_for_google_cloud_services":null,"ipv4_enabled":true,"private_network":null,"psc_config":[],"require_ssl":null}],"maintenance_window":[],"password_validation_policy":[],"pricing_plan":"PER_USE","sql_server_audit_config":[],"tier":"db-f1-micro","time_zone":null}],"timeouts":null},"sensitive_values":{"available_maintenance_versions":[],"clone":[],"ip_address":[],"replica_configuration":[],"restore_backup_context":[],"root_password":true,"server_ca_cert":true,"settings":[{"active_directory_config":[],"advanced_machine_features":[],"backup_configuration":[{"backup_retention_settings":[]}],"data_cache_config":[],"database_flags":[],"deny_maintenance_period":[],"insights_config":[],"ip_configuration":[{"authorized_networks":[{}],"psc_config":[]}],"location_preference":[],"maintenance_window":[],"password_validation_policy":[],"sql_server_audit_config":[],"user_labels":{}}]}},{"address":"google_sql_user.app_user","mode":"managed","type":"google_sql_user","name":"app_user","provider_name":"registry.opentofu.org/hashicorp/google","schema_version":1,"values":{"deletion_policy":null,"instance":"pg","name":"myuser","password":"mypassword","password_policy":[],"project":"tf-project-1763286414","timeouts":null,"type":null},"sensitive_values":{"password":true,"password_policy":[],"sql_server_user_details":[]}}]}},"resource_changes":[{"address":"google_sql_database.app_db","mode":"managed","type":"google_sql_database","name":"app_db","provider_name":"registry.opentofu.org/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"deletion_policy":"DELETE","instance":"pg","name":"mydatabase","project":"tf-project-1763286414","timeouts":null},"after_unknown":{"charset":true,"collation":true,"id":true,"self_link":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"google_sql_database_instance.postgres","mode":"managed","type":"google_sql_database_instance","name":"postgres","provider_name":"registry.opentofu.org/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"clone":[],"database_version":"POSTGRES_15","deletion_protection":false,"name":"pg","project":"tf-project-1763286414","region":"europe-west4","restore_backup_context":[],"root_password":null,"settings":[{"activation_policy":"ALWAYS","active_directory_config":[],"advanced_machine_features":[],"availability_type":"ZONAL","backup_configuration":[{"binary_log_enabled":null,"enabled":false,"location":null,"point_in_time_recovery_enabled":null}],"collation":null,"data_cache_config":[],"database_flags":[],"deletion_protection_enabled":null,"deny_maintenance_period":[],"disk_autoresize":true,"disk_autoresize_limit":0,"disk_type":"PD_SSD","edition":"ENTERPRISE","enable_dataplex_integration":null,"enable_google_ml_integration":null,"ip_configuration":[{"allocated_ip_range":null,"authorized_networks":[{"expiration_time":"","name":"home-network","value":"89.210.41.207/32"}],"enable_private_path_for_google_cloud_services":null,"ipv4_enabled":true,"private_network":null,"psc_config":[],"require_ssl":null}],"maintenance_window":[],"password_validation_policy":[],"pricing_plan":"PER_USE","sql_server_audit_config":[],"tier":"db-f1-micro","time_zone":null}],"timeouts":null},"after_unknown":{"available_maintenance_versions":true,"clone":[],"connection_name":true,"dns_name":true,"encryption_key_name":true,"first_ip_address":true,"id":true,"instance_type":true,"ip_address":true,"maintenance_version":true,"master_instance_name":true,"private_ip_address":true,"psc_service_attachment_link":true,"public_ip_address":true,"replica_configuration":true,"restore_backup_context":[],"self_link":true,"server_ca_cert":true,"service_account_email_address":true,"settings":[{"active_directory_config":[],"advanced_machine_features":[],"backup_configuration":[{"backup_retention_settings":true,"start_time":true,"transaction_log_retention_days":true}],"connector_enforcement":true,"data_cache_config":[],"database_flags":[],"deny_maintenance_period":[],"disk_size":true,"insights_config":true,"ip_configuration":[{"authorized_networks":[{}],"psc_config":[],"server_ca_mode":true,"ssl_mode":true}],"location_preference":true,"maintenance_window":[],"password_validation_policy":[],"sql_server_audit_config":[],"user_labels":true,"version":true}]},"before_sensitive":false,"after_sensitive":{"available_maintenance_versions":[],"clone":[],"ip_address":[],"replica_configuration":[],"restore_backup_context":[],"root_password":true,"server_ca_cert":true,"settings":[{"active_directory_config":[],"advanced_machine_features":[],"backup_configuration":[{"backup_retention_settings":[]}],"data_cache_config":[],"database_flags":[],"deny_maintenance_period":[],"insights_config":[],"ip_configuration":[{"authorized_networks":[{}],"psc_config":[]}],"location_preference":[],"maintenance_window":[],"password_validation_policy":[],"sql_server_audit_config":[],"user_labels":{}}]}}},{"address":"google_sql_user.app_user","mode":"managed","type":"google_sql_user","name":"app_user","provider_name":"registry.opentofu.org/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"deletion_policy":null,"instance":"pg","name":"myuser","password":"mypassword","password_policy":[],"project":"tf-project-1763286414","timeouts":null,"type":null},"after_unknown":{"host":true,"id":true,"password_policy":[],"sql_server_user_details":true},"before_sensitive":false,"after_sensitive":{"password":true,"password_policy":[],"sql_server_user_details":[]}}}],"output_changes":{"db_connection_name":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false},"db_name":{"actions":["create"],"before":null,"after":"mydatabase","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"db_public_ip":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false},"db_user":{"actions":["create"],"before":null,"after":"myuser","after_unknown":false,"before_sensitive":false,"after_sensitive":false}},"prior_state":{"format_version":"1.0","terraform_version":"1.10.6","values":{"outputs":{"db_name":{"sensitive":false,"value":"mydatabase","type":"string"},"db_user":{"sensitive":false,"value":"myuser","type":"string"}},"root_module":{}}},"configuration":{"provider_config":{"google":{"name":"google","full_name":"registry.opentofu.org/hashicorp/google","version_constraint":"~\u003e 5.0","expressions":{"credentials":{},"project":{"constant_value":"tf-project-1763286414"},"region":{"constant_value":"europe-west4"}}}},"root_module":{"outputs":{"db_connection_name":{"expression":{"references":["google_sql_database_instance.postgres.connection_name","google_sql_database_instance.postgres"]},"description":"Connection name for Cloud SQL"},"db_name":{"expression":{"references":["google_sql_database.app_db.name","google_sql_database.app_db"]},"description":"Database name"},"db_public_ip":{"expression":{"references":["google_sql_database_instance.postgres.public_ip_address","google_sql_database_instance.postgres"]},"description":"Public ip of Cloud SQL PostreSQL instance"},"db_user":{"expression":{"references":["google_sql_user.app_user.name","google_sql_user.app_user"]},"description":"Database user"}},"resources":[{"address":"google_sql_database.app_db","mode":"managed","type":"google_sql_database","name":"app_db","provider_config_key":"google","expressions":{"instance":{"references":["google_sql_database_instance.postgres.name","google_sql_database_instance.postgres"]},"name":{"constant_value":"mydatabase"}},"schema_version":0},{"address":"google_sql_database_instance.postgres","mode":"managed","type":"google_sql_database_instance","name":"postgres","provider_config_key":"google","expressions":{"database_version":{"constant_value":"POSTGRES_15"},"deletion_protection":{"constant_value":false},"name":{"constant_value":"pg"},"project":{"constant_value":"tf-project-1763286414"},"region":{"constant_value":"europe-west4"},"settings":[{"backup_configuration":[{"enabled":{"constant_value":false}}],"ip_configuration":[{"authorized_networks":[{"name":{"constant_value":"home-network"},"value":{"constant_value":"89.210.41.207/32"}}],"ipv4_enabled":{"constant_value":true}}],"tier":{"constant_value":"db-f1-micro"}}]},"schema_version":0},{"address":"google_sql_user.app_user","mode":"managed","type":"google_sql_user","name":"app_user","provider_config_key":"google","expressions":{"instance":{"references":["google_sql_database_instance.postgres.name","google_sql_database_instance.postgres"]},"name":{"constant_value":"myuser"},"password":{"constant_value":"mypassword"}},"schema_version":1}]}},"relevant_attributes":[{"resource":"google_sql_database.app_db","attribute":["name"]},{"resource":"google_sql_database_instance.postgres","attribute":["name"]},{"resource":"google_sql_database_instance.postgres","attribute":["connection_name"]},{"resource":"google_sql_database_instance.postgres","attribute":["public_ip_address"]},{"resource":"google_sql_user.app_user","attribute":["name"]}],"timestamp":"2025-12-08T16:04:19Z","errored":false}
